""" "Map leader to space "
let mapleader = " "





" ============================ MAPPINGS ============================"
"
" ---------------------------- NORMAL ------------------------------
"   ............. GLOBALS KEYS ...............
"
"   Y - yank to the end of the line
"   L - Change to left buffer tab
"   H - Change to right buffer tab
"   jj - ESC
"   jk - ESC
"
"   F  - easymotion everywhere on file
"   Ef  - easymotion everywhere on line
"   El  - easymotion everywhere on line
"   En  - go to next easymotion match
"   EN  - go to prev easymotion match
"
"   [[  -  navigate to previous method
"   ]]  -  navigate to previous method
"
"   ]]  -  navigate to previous method
"   ]]  -  navigate to previous method
"
"   zk - collapse region
"   zj - expand region
"   zK - collapse all regions
"   zJ - collapse all regions
"   zb - collapse doc comments
"
"   gd - Go to declaration
"   gi - Go to implementation
"   ge - Go to next error
"   gE - Go to prev error
"   go - Open Generate menu
"   ga - Opens Action search menu
"   gc - Opens Class search menu
"   gf - Opens Files search menu
"   gs - Opens Symbol search menu
"
"   cs  - change surround - cs"' or cs"(
"   cs  - delete surround - ds" or ds(
"   ys  - add surround - ysw" or ysiw(
"
"   ,r  - Runs current run configuration
"   ,R  - Opens Run Menu
"   ,c  - Runs current class file if able
"   ,f  - Opens choose run configuration menu
"   ,t  - Activates Run tool window
"   ,u  - Rerun last run configuration
"   ,b  - Toggle line breakpoint
"   ,d  - Context Debug
"   ,n  - Activates Debug tool window
"   ,i  - Opens Run Inspection menu
"
"   ............. ALT KEYS ...............
"
"    a-r - refresh IdeaVim config
"    a-v - Split vertically
"    a-h - Split horizontally
"    a-u - Unsplit
"    a-m -
"    a-= - Increase Font Size
"    a-- - Decrease Font Size
"    a-. - Reset Font Side to default
"    a-; - Reset Font Side to default
"
"   ............. Control KEYS ...............
"
"   c-z  - Toggles Zen mode
"
"   ............. LEADER KEYS ...............
"
"    <leader>e - Toggle NERDTree
"    <leader>. - Focuses the NERDTree panel on the current opened file
"    <leader>nf - Focuses NERDTree panel
"
"    <leader>h - Navigate to left split
"    <leader>j - Navigate to bottom split
"    <leader>k - Navigate to upper split
"    <leader>l - Navigate to right split
"
"    <leader>c  - Closes current buffer tab
"    <leader>x  - Reopens last closed buffer tab
"    <leader>f  - Opens Find in Path search
"    <leader>/  - Comments current line
"    <leader>=  - Reformat code
"    <leader>g  - Toggles git blame
"    <leader>su - Shows usages
"
"    <leader>ba - Closes All buffer tabs
"    <leader>bc - Closes All buffer tabs except for active buffer
"    <leader>bl - Closes all buffer tabs on the right
"    <leader>bh - Closes all buffer tabs on the left
"    <leader>bp - Closes All unpinned buffer tabs
"    <leader>bu - Closes all unmodified buffer tabs
"    <leader>bt - Pins active buffer tab
"
"    <leader>ps - Opens class structure window
"    <leader>pd - Show Error Description
"    <leader>pe - Rename Element
"    <leader>pf - Rename File
"    <leader>pc - Close Project
"    <leader>pt - Opens Actions menu
"    <leader>py - Copy File Name
"    <leader>pn - Open new File menu
"    <leader>pm - Open new Module menu
"    <leader>pp - Open new Project menu
"    <leader>po - Override Methods if any
"    <leader>pb - Show Bookmarks
"    <leader>pr - Open Replace
"    <leader>pR - Open Replace In Path
"    <leader>px - Open Refactor menu
"
"    <leader>rf - Opens Recent changed Files window
"    <leader>rr - Opens Recent changes window
"    <leader>rl - Opens Recent locations window
"    <leader>rp - Open Refactor menu
"    <leader>ri - Insert Random Integer
"    <leader>rI - Insert Random Integer Array
"    <leader>rd - Insert Random Decimal
"    <leader>rD - Insert Random Decimal Array
"    <leader>rs - Insert Random String
"    <leader>rS - Insert Random String Array
"    <leader>ru - Insert Random UUID
"    <leader>rU - Insert Random UUID Array
"    <leader>rw - Insert Random Word
"    <leader>rW - Insert Random Word Array
"    <leader>rg - Opens randomness menu
"
"    <leader>md - Opens Color Picker
"    <leader>mf - Show File Path
"    <leader>ml - Opens logs location in file manager
"    <leader>ms - Opens Project Structure settings 
"    <leader>mx - Opens Settings  
"
" ---------------------------- VISUAL ------------------------------
"
"   ............. LEADER KEYS ...............
"
"    <leader>y - Copy reference
"
"



""" "Common settings"
set incsearch
set noerrorbells
set idearefactormode=visual
set smartcase
set ignorecase
set ideamarks
set relativenumber

set showmode
set number
set scrolloff=8
set sidescrolloff=4
set history=100000

set clipboard+=unnamed
set clipboard+=ideaput

set ideajoin

" ========== "ALIASES" ==========
" copy to end of line"
nmap Y y$
inoremap jj <ESC>
inoremap jk <ESC>

vnoremap < <gv
vnoremap > >gv

" replace currently selected text with default register without yanking it
vnoremap p "_dP

" "open ideavimrc file"
nnoremap \e :e ~/.ideavimrc<CR>
nmap <a-r> <action>(IdeaVim.ReloadVimRc.reload)

" ========== "NERDTree" =============
set NERDTree
let g:NERDTreeMapActivateNode='l'
let g:NERDTreeMapJumpParent='h'

nnoremap <leader>e :NERDTreeToggle<CR>
nnoremap <leader>. :NERDTreeFind<CR>
nnoremap <leader>nf :NERDTreeFocus<CR>

" ========== "EasyMotion" ==========
Plug 'easymotion/vim-easymotion'
set easymotion
let g:EasyMotion_keys = 'asdfghjkl;qwertyuiopzxcvbnm'
let g:EasyMotion_do_mapping = 0
"nmap F <Plug>(easymotion-f)
map F <Plug>(easymotion-jumptoanywhere)
map Ef <Plug>(easymotion-lineanywhere)
map El <Plug>(easymotion-lineanywhere)
map En <Plug>(easymotion-next)
map EN <Plug>(easymotion-prev)

" ========== "Surround" =============
Plug 'tpope/vim-surround'
set surround

" This plugin adds four main commands in normal mode
"   - cs: To change the surroundings.
"   - ds: To delete the surroundings.
"   - ys: To add surroundings.
"   - S: To surround the currently selected text.
" The following are some commands that I usually use. However, you can check the documentation for more:
"
"   - cs”’: Change the surrounding from double quotes to single quotes.
"   - ds”: Delete the closest double-quotes surroundings.
"   - ysiw<b>: Surround the current word with <b> tag (iw means inner word.)

" ========== "SPLITS" =============
" "move between split windows"
nnoremap <leader>h <C-W><C-H>
nnoremap <leader>j <C-W><C-J>
nnoremap <leader>k <C-W><C-K>
nnoremap <leader>l <C-W><C-L>

nmap <a-v> <action>(SplitVertically)
nmap <a-h> <action>(SplitHorizontally)
nmap <a-u> <action>(Unsplit)
nmap <a-m> <action>(MoveEditorToOppositeTabGroup)

nmap <a-=> <action>(EditorIncreaseFontSizeGlobal)
nmap <a--> <action>(EditorDecreaseFontSizeGlobal)
nmap <a-.> <action>(EditorResetFontSize)
nmap <a-;> <action>(EditorResetFontSize)

" ========== "NAVIGATION" =============
" "TAB in normal mode will move to text buffer"
" nnoremap <silent> <TAB> gt
" "SHIFT-TAB will go back"
" nnoremap <silent> <S-TAB> gT

nnoremap <silent> L gt
nnoremap <silent> H gT

" "navigates to next and previous method"
nmap [[ <action>(MethodUp)
nmap ]] <action>(MethodDown)

" ========== "FOLDING" ==========

nmap zk <action>(CollapseRegion)
nmap zj <action>(ExpandRegion)
nmap zK <action>(CollapseAllRegions)
nmap zJ <action>(ExpandAllRegions)

nmap zb <action>(CollapseDocComments)

" CollapseDocComments
" ExpandDocComments

" ========== "PROJECT NAVIGATION" ==========

nmap gd <action>(GotoDeclaration)
nmap gi <action>(GotoImplementation)
nmap ge <action>(GotoNextError)
nmap gE <action>(GotoPreviousError)
nmap go <action>(Generate)
nmap ga <action>(GotoAction)
nmap gc <action>(GotoClass)
nmap gf <action>(GotoFile)
nmap gs <action>(GotoSymbol)

" ========== "GLOBALS" ==========
" -- ZEN mode
nmap <c-z> <action>(ToggleDistractionFreeMode)

nmap <leader>c <action>(CloseEditor)
nmap <leader>x <action>(ReopenClosedTab)
nmap <leader>f <action>(FindInPath)
nmap <leader>/ <action>(CommentByLineComment)
" Toggle git-blame window
nmap <leader>g <action>(Annotate)
vmap <leader>y <action>(CopyReference)


" ========== "BUFFERS" ==========
nmap <leader>ba <action>(CloseAllEditors)
nmap <leader>bc <action>(CloseAllEditorsButActive)
nmap <leader>bl <action>(CloseAllToTheRight)
nmap <leader>bh <action>(CloseAllToTheLeft)
nmap <leader>bp <action>(CloseAllUnpinnedEditors)
nmap <leader>bu <action>(CloseAllUnmodifiedEditors)
nmap <leader>bt <action>(PinActiveTabToggle)

" ========== "PROJECT" ==========
" "Show file methods in popup"
nmap <leader>ps <action>(FileStructurePopup)
nmap <leader>pd <action>(ShowErrorDescription)
nmap <leader>pe <action>(RenameElement)
nmap <leader>pf <action>(RenameFile)
nmap <leader>pc <action>(CloseProject)
nmap <leader>pt <action>(Actions)
nmap <leader>py <action>(CopyFileName)
nmap <leader>pn <action>(NewElement)
nmap <leader>pm <action>(NewModule)
nmap <leader>pp <action>(NewProject)
nmap <leader>po <action>(OverrideMethods)
nmap <leader>pb <action>(ShowBookmarks)
" nmap <leader>pm <action>(NewFile)
" nmap <leader>pN <action>(NewFolder)

" nnoremap <leader>pr :%s/
nmap <leader>pr <action>(Replace)
nmap <leader>pR <action>(ReplaceInPath)
nmap <leader>px <action>(Refactorings.QuickListPopupAction)

" ========== "RECENT AND RANDOM" ==========
nmap <leader>rf <action>(RecentChangedFiles)
nmap <leader>rr <action>(RecentChanges)
nmap <leader>rl <action>(RecentLocations)

nmap <leader>rp <action>(Refactorings.QuickListPopupAction)

nmap <leader>ri <action>(randomness.InsertInteger)
nmap <leader>rI <action>(randomness.InsertIntegerArray)

nmap <leader>rd <action>(randomness.InsertDecimal)
nmap <leader>rD <action>(randomness.InsertDecimalArray)

nmap <leader>rs <action>(randomness.InsertString)
nmap <leader>rS <action>(randomness.InsertStringArray)

nmap <leader>ru <action>(randomness.InsertUuid)
nmap <leader>rU <action>(randomness.InsertUuidArray)

nmap <leader>rw <action>(randomness.InsertWord)
nmap <leader>rW <action>(randomness.InsertWordArray)

nmap <leader>rg <action>(randomness.ShowGroup)

" ========== "DEBUGGING" ==========

nmap ,r <action>(Run)
nmap ,R <action>(RunMenu)
nmap ,c <action>(RunClass)
nmap ,f <action>(ChooseRunConfiguration)
nmap ,t <action>(ActivateRunToolWindow)
nmap ,u <action>(Rerun)
nmap ,b <action>(ToggleLineBreakpoint)
nmap ,d <action>(ContextDebug)
nmap ,n <action>(ActivateDebugToolWindow)
nmap ,i <action>(RunInspection)
" nmap <leader>cd <action>(ChooseDebugConfiguration)
" nmap ,r <action>ContextRun
" nmap ,f <action>RerunFailedTests

" ========== "MISC" ==========
" nmap <leader>en <action>(EditSourceInNewWindow)
nmap <leader>=  <action>(ReformatCode)
" nmap <leader>o <action>(OptimizeImports)
" nmap <leader>/ <action>(Find)
nmap <leader>su <action>(ShowUsages)
nmap <leader>md <action>(ShowColorPicker)
nmap <leader>mf <action>(ShowFilePath)
nmap <leader>ml <action>(ShowLog)
nmap <leader>ms <action>(ShowProjectStructureSettings)
nmap <leader>mx <action>(ShowSettings)